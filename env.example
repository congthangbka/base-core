# ==============================================================================
# CLEAN ARCHITECTURE API - Environment Configuration
# ==============================================================================
# Copy this file to .env.example and update with your actual values
# DO NOT commit .env file to version control (it's in .gitignore)
#
# Usage:
#   cp env.example.template .env.example
#   cp .env.example .env
#   # Edit .env with your values
# ==============================================================================

# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================

# Server port to listen on
# Default: 8085
SERVER_PORT=8085

# Server host address
# Use "0.0.0.0" to listen on all interfaces
# Use "127.0.0.1" or "localhost" to listen only on localhost
# Default: 0.0.0.0
SERVER_HOST=0.0.0.0

# ==============================================================================
# CORS CONFIGURATION
# ==============================================================================

# Comma-separated list of allowed CORS origins
# 
# Development:
#   - Leave empty or use "*" to allow all origins (for local development)
#   - Example: CORS_ORIGINS=
#   - Example: CORS_ORIGINS=*
#
# Production:
#   - Specify exact origins (protocol + domain + port if not 80/443)
#   - Example: CORS_ORIGINS=https://example.com,https://www.example.com
#   - Example: CORS_ORIGINS=https://api.example.com,https://app.example.com
#
# Security Note:
#   - In production, this is enforced when ENV=production
#   - Empty value in production will deny all CORS requests
#   - Always use HTTPS in production
#
# Default: "" (empty - allows all in development, denies all in production)
CORS_ORIGINS=

# ==============================================================================
# ENVIRONMENT CONFIGURATION
# ==============================================================================

# Application environment
# 
# Valid values:
#   - "development" or "dev"  → Development mode (default)
#   - "staging" or "stage"    → Staging mode
#   - "production" or "prod"  → Production mode
#
# Effects:
#   - When set to "production" or "prod":
#     * IsProduction flag = true
#     * CORS whitelist is enforced (see CORS_ORIGINS)
#     * Detailed error messages are hidden for security
#     * Production-optimized settings
#
#   - When set to "development":
#     * IsProduction flag = false
#     * CORS allows all origins
#     * Detailed error messages shown
#     * Development-friendly settings
#
# Default: development
ENV=development

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================

# Database host address
# Default: localhost
DB_HOST=localhost

# Database port
# MySQL default: 3306
DB_PORT=3306

# Database username
# Default: root
DB_USER=root

# Database password
# ⚠️  SECURITY: Never commit real passwords to version control
# Leave empty for local development without password
DB_PASSWORD=

# Database name
# Default: clean_architecture
DB_NAME=clean_architecture

# Database character set
# Recommended: utf8mb4 (supports full Unicode including emojis)
# Default: utf8mb4
DB_CHARSET=utf8mb4

# ==============================================================================
# LOGGING CONFIGURATION
# ==============================================================================

# Log files directory
# Logs are written to this directory with daily rotation
# Default: ./logs
LOG_DIRECTORY=./logs

# Log level
# Valid values: debug, info, warn, error
# 
# - debug: All logs including debug information
# - info:  Informational messages and above
# - warn:  Warnings and errors only
# - error: Errors only
#
# Default: info
LOG_LEVEL=info

# Number of days to keep log files before deletion
# Logs older than this will be automatically deleted
# Set to 0 to disable automatic deletion
# Default: 30
LOG_RETENTION_DAYS=30

# Number of days before compressing log files
# Logs older than this will be compressed (.gz)
# Set to 0 to disable compression
# Default: 7
LOG_COMPRESS_AFTER_DAYS=7

# ==============================================================================
# SERVER LIMITS & PERFORMANCE
# ==============================================================================

# Request timeout in seconds
# Requests taking longer than this will be cancelled
# Increase for long-running operations
# Default: 30
REQUEST_TIMEOUT_SECONDS=30

# Rate limit: Requests per second per IP address
# This is the average rate limit
# Example: 100 = allows 100 requests per second on average
# Default: 100
RATE_LIMIT_RPS=100

# Rate limit: Burst size
# Maximum number of requests allowed in a single burst
# Should be higher than RATE_LIMIT_RPS for better user experience
# Example: If RPS=100 and BURST=200, user can make 200 requests quickly, then limited to 100/sec
# Default: 200
RATE_LIMIT_BURST=200

# Maximum request body size in megabytes (MB)
# Requests larger than this will be rejected
# Used for file uploads and large JSON payloads
# Default: 10 (10MB)
MAX_REQUEST_SIZE_MB=10

# ==============================================================================
# NOTES
# ==============================================================================
#
# 1. After modifying .env, restart the application for changes to take effect
#
# 2. Production Checklist:
#    - Set ENV=production
#    - Configure CORS_ORIGINS with exact allowed origins
#    - Use strong DB_PASSWORD
#    - Set appropriate LOG_LEVEL (warn or error)
#    - Adjust rate limits based on expected traffic
#    - Review and adjust all timeout values
#
# 3. Security Best Practices:
#    - Never commit .env file to git
#    - Use environment variables in production (not .env file)
#    - Rotate passwords regularly
#    - Use HTTPS in production
#    - Restrict CORS_ORIGINS in production
#
# ==============================================================================

